Bootstrap: docker
From: python:3.8

%files
    ./detector.py /
    ./entrypoint.py /
    ./utils /
    ./metaparameters.json /
    ./metaparameters_schema.json /
    ./learned_parameters /
    ./feature_extractor.py /

%post
    apt update

    pip install --upgrade pip
    pip install torch==1.12.1+cu113 torchvision==0.13.1+cu113 --extra-index-url https://download.pytorch.org/whl/cu113
    pip install tqdm jsonschema jsonargparse scikit-learn==1.3.2 joblib==1.3.2

%runscript
    exec python3 /entrypoint.py "$@"
